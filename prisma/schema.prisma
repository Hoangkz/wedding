generator client {
    provider        = "prisma-client-js"
    output          = "./generated"
    previewFeatures = ["driverAdapters"]
}

datasource db {
    provider = "sqlite"
    url      = "file:./dev.db"
}

model User {
    id          String    @id
    userName    String    @unique
    password    String
    shortName   String?
    name        String?
    dob         DateTime?
    phone       String?
    type        UserType  @default(Undetermined)
    qrCodeUrl   String?
    avatar      String?
    address     String?
    mapUrl      String?
    father      String?
    mother      String?
    bio         String?
    note        String?
    title       String?
    bank        String?
    account     String?
    weddingDate DateTime?
    weddingTime String?
    createdAt   DateTime  @default(now())
    updatedAt   DateTime  @updatedAt
}

model Customer {
    id         String       @id
    name       String
    type       CustomerType
    invitation String
    invitedAt  DateTime
    attended   Int
    wishes     Wish[]
    createdAt  DateTime     @default(now())
    updatedAt  DateTime     @updatedAt
}

model Wish {
    id         String    @id
    name       String
    desc       String
    customer   Customer? @relation(fields: [customerId], references: [id])
    customerId String?
    createdAt  DateTime  @default(now())
    updatedAt  DateTime  @updatedAt
}

enum CustomerType {
    Bride
    Groom
}

enum UserType {
    Bride
    Groom
    Undetermined
}
